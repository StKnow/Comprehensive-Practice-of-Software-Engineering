{"remainingRequest":"D:\\Desktop\\软件工程综合实践\\项目\\3.Servlet项目\\前端部分\\elmclient\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\软件工程综合实践\\项目\\3.Servlet项目\\前端部分\\elmclient\\src\\views\\BusinessList.vue?vue&type=style&index=0&id=37ae86b8&scoped=true&lang=css&","dependencies":[{"path":"D:\\Desktop\\软件工程综合实践\\项目\\3.Servlet项目\\前端部分\\elmclient\\src\\views\\BusinessList.vue","mtime":1661334010184},{"path":"D:\\Desktop\\软件工程综合实践\\项目\\3.Servlet项目\\前端部分\\elmclient\\node_modules\\css-loader\\dist\\cjs.js","mtime":1661330648670},{"path":"D:\\Desktop\\软件工程综合实践\\项目\\3.Servlet项目\\前端部分\\elmclient\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1661330649562},{"path":"D:\\Desktop\\软件工程综合实践\\项目\\3.Servlet项目\\前端部分\\elmclient\\node_modules\\postcss-loader\\src\\index.js","mtime":1661330648729},{"path":"D:\\Desktop\\软件工程综合实践\\项目\\3.Servlet项目\\前端部分\\elmclient\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661330648754},{"path":"D:\\Desktop\\软件工程综合实践\\项目\\3.Servlet项目\\前端部分\\elmclient\\node_modules\\vue-loader\\lib\\index.js","mtime":1661330649177}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQovKioqKioqKioqKioqKioqKioqIOaAu+WuueWZqCAqKioqKioqKioqKioqKioqKiovDQoud3JhcHBlciB7DQogIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IDEwMCU7DQp9DQovKioqKioqKioqKioqKioqKioqIGhlYWRlcumDqOWIhiAqKioqKioqKioqKioqKioqKiovDQoud3JhcHBlciBoZWFkZXIgew0KICB3aWR0aDogMTAwJTsNCiAgaGVpZ2h0OiAxMnZ3Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA5N2ZmOw0KICBjb2xvcjogI2ZmZjsNCiAgZm9udC1zaXplOiA0Ljh2dzsNCiAgcG9zaXRpb246IGZpeGVkOw0KICBsZWZ0OiAwOw0KICB0b3A6IDA7DQogIHotaW5kZXg6IDEwMDA7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KfQ0KLyoqKioqKioqKioqKioqKioqKiDllYblrrbliJfooajpg6jliIYgKioqKioqKioqKioqKioqKioqLw0KLndyYXBwZXIgLmJ1c2luZXNzIHsNCiAgd2lkdGg6IDEwMCU7DQogIG1hcmdpbi10b3A6IDEydnc7DQogIG1hcmdpbi1ib3R0b206IDE0dnc7DQp9DQoud3JhcHBlciAuYnVzaW5lc3MgbGkgew0KICB3aWR0aDogMTAwJTsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgcGFkZGluZzogMi41dnc7DQogIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjZGRkOw0KICB1c2VyLXNlbGVjdDogbm9uZTsNCiAgY3Vyc29yOiBwb2ludGVyOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KfQ0KLndyYXBwZXIgLmJ1c2luZXNzIGxpIC5idXNpbmVzcy1pbWcgew0KICAvKui/memHjOiuvue9ruS4uuebuOW9k+WumuS9je+8jOaIkOS4umJ1c2luZXNzLWltZy1xdWFudGl0eeWFg+e0oOeahOeItuWFg+e0oCovDQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCn0NCi53cmFwcGVyIC5idXNpbmVzcyBsaSAuYnVzaW5lc3MtaW1nIGltZyB7DQogIHdpZHRoOiAyMHZ3Ow0KICBoZWlnaHQ6IDIwdnc7DQp9DQoud3JhcHBlciAuYnVzaW5lc3MgbGkgLmJ1c2luZXNzLWltZyAuYnVzaW5lc3MtaW1nLXF1YW50aXR5IHsNCiAgd2lkdGg6IDV2dzsNCiAgaGVpZ2h0OiA1dnc7DQogIGJhY2tncm91bmQtY29sb3I6IHJlZDsNCiAgY29sb3I6ICNmZmY7DQogIGZvbnQtc2l6ZTogMy42dnc7DQogIGJvcmRlci1yYWRpdXM6IDIuNXZ3Ow0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgLyrorr7nva7miJDnu53lr7nlrprkvY3vvIzkuI3ljaDmlofmoaPmtYHnqbrpl7QqLw0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIHJpZ2h0OiAtMS41dnc7DQogIHRvcDogLTEuNXZ3Ow0KfQ0KLndyYXBwZXIgLmJ1c2luZXNzIGxpIC5idXNpbmVzcy1pbmZvIHsNCiAgbWFyZ2luLWxlZnQ6IDN2dzsNCn0NCi53cmFwcGVyIC5idXNpbmVzcyBsaSAuYnVzaW5lc3MtaW5mbyBoMyB7DQogIGZvbnQtc2l6ZTogMy44dnc7DQogIGNvbG9yOiAjNTU1Ow0KfQ0KLndyYXBwZXIgLmJ1c2luZXNzIGxpIC5idXNpbmVzcy1pbmZvIHAgew0KICBmb250LXNpemU6IDN2dzsNCiAgY29sb3I6ICM4ODg7DQogIG1hcmdpbi10b3A6IDJ2dzsNCn0NCg=="},{"version":3,"sources":["BusinessList.vue"],"names":[],"mappings":";AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BusinessList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <!-- header部分 -->\r\n    <header>\r\n      <p>商家列表</p>\r\n    </header>\r\n    <!-- 商家列表部分 -->\r\n    <ul class=\"business\">\r\n      <li v-for=\"item in businessArr\" @click=\"toBusinessInfo(item.businessId)\">\r\n        <div class=\"business-img\">\r\n          <img :src=\"item.businessImg\" />\r\n          <div class=\"business-img-quantity\" v-show=\"item.quantity > 0\">\r\n            {{ item.quantity }}\r\n          </div>\r\n        </div>\r\n        <div class=\"business-info\">\r\n          <h3>{{ item.businessName }}</h3>\r\n          <p>\r\n            &#165;{{ item.starPrice }}起送 | &#165;{{ item.deliveryPrice }}配送\r\n          </p>\r\n          <p>{{ item.businessExplain }}</p>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <!-- 底部菜单部分 -->\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Footer from \"../components/Footer.vue\";\r\n\r\nexport default {\r\n  name: \"BusinessList\",\r\n  data() {\r\n    return {\r\n      orderTypeId: this.$route.query.orderTypeId,\r\n      businessArr: [],\r\n      user: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.user = this.$getSessionStorage(\"user\");\r\n\r\n    //根据orderTypeId查询商家信息\r\n    this.$axios\r\n      .post(\r\n        \"BusinessController/listBusinessByOrderTypeId\",\r\n        this.$qs.stringify({\r\n          orderTypeId: this.orderTypeId,\r\n        })\r\n      )\r\n      .then((response) => {\r\n        this.businessArr = response.data;\r\n        //判断是否登录\r\n        if (this.user != null) {\r\n          this.listCart();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  },\r\n  components: {\r\n    Footer,\r\n  },\r\n  methods: {\r\n    listCart() {\r\n      this.$axios\r\n        .post(\r\n          \"CartController/listCart\",\r\n          this.$qs.stringify({\r\n            userId: this.user.userId,\r\n          })\r\n        )\r\n        .then((response) => {\r\n          let cartArr = response.data;\r\n          //遍历所有食品列表\r\n          for (let businessItem of this.businessArr) {\r\n            businessItem.quantity = 0;\r\n            for (let cartItem of cartArr) {\r\n              if (cartItem.businessId == businessItem.businessId) {\r\n                businessItem.quantity += cartItem.quantity;\r\n              }\r\n            }\r\n          }\r\n          this.businessArr.sort();\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        });\r\n    },\r\n    toBusinessInfo(businessId) {\r\n      this.$router.push({\r\n        path: \"/businessInfo\",\r\n        query: { businessId: businessId },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n/****************** 总容器 ******************/\r\n.wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n/****************** header部分 ******************/\r\n.wrapper header {\r\n  width: 100%;\r\n  height: 12vw;\r\n  background-color: #0097ff;\r\n  color: #fff;\r\n  font-size: 4.8vw;\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 1000;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n/****************** 商家列表部分 ******************/\r\n.wrapper .business {\r\n  width: 100%;\r\n  margin-top: 12vw;\r\n  margin-bottom: 14vw;\r\n}\r\n.wrapper .business li {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  padding: 2.5vw;\r\n  border-bottom: solid 1px #ddd;\r\n  user-select: none;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.wrapper .business li .business-img {\r\n  /*这里设置为相当定位，成为business-img-quantity元素的父元素*/\r\n  position: relative;\r\n}\r\n.wrapper .business li .business-img img {\r\n  width: 20vw;\r\n  height: 20vw;\r\n}\r\n.wrapper .business li .business-img .business-img-quantity {\r\n  width: 5vw;\r\n  height: 5vw;\r\n  background-color: red;\r\n  color: #fff;\r\n  font-size: 3.6vw;\r\n  border-radius: 2.5vw;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /*设置成绝对定位，不占文档流空间*/\r\n  position: absolute;\r\n  right: -1.5vw;\r\n  top: -1.5vw;\r\n}\r\n.wrapper .business li .business-info {\r\n  margin-left: 3vw;\r\n}\r\n.wrapper .business li .business-info h3 {\r\n  font-size: 3.8vw;\r\n  color: #555;\r\n}\r\n.wrapper .business li .business-info p {\r\n  font-size: 3vw;\r\n  color: #888;\r\n  margin-top: 2vw;\r\n}\r\n</style>"]}]}